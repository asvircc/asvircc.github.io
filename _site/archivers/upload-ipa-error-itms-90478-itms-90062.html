<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ERROR ITMS-90478, ERROR ITMS-90062 « asvir.cc</title>
  <meta name="description" content="最近客户反馈一个问题，APP 无法连接机器。具体 APP 名字都快没印象了。查看了 APP 更新信息，15年8月最后一次更新。问题还好，很快搞定了。打包上传的时候出错了，给了下面的提示信息">
  <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/archivers/upload-ipa-error-itms-90478-itms-90062">
  <link rel="alternate" type="application/rss+xml" title="asvir.cc" href="http://localhost:4000/feed.xml" />
  

</head>


  <body>

    <header class="header">
  <div class="wrapper">
    <a class="site-title" href="/">asvir.cc</a>
    <nav class="site-nav">
      
        
      
        
        <a class="page-link" href="/about/">关于</a>
        
      
        
        <a class="page-link" href="/category/">分类</a>
        
      
        
      
        
      
        
      
    </nav>
  </div>
</header>

    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">ERROR ITMS-90478, ERROR ITMS-90062</h1>
    <p class="post-meta"> 
       2017-04-27 
    </p>
  </header>

  <article class="post-content">
    <p>最近客户反馈一个问题，APP 无法连接机器。具体 APP 名字都快没印象了。查看了 APP 更新信息，15年8月最后一次更新。问题还好，很快搞定了。打包上传的时候出错了，给了下面的提示信息</p>

<h3 id="问题">问题</h3>

<ul>
  <li><strong>ERROR ITMS-90478</strong>: “Invalid Version. The build with the version “1.46” can’t be imported because a later version has been closed for new build submissions. Choose a different version number.”<br /></li>
  <li><strong>ERROR ITMS-90062</strong>: “This bundle is invalid. The value for key CFBundleShortVersionString [1.5] in the Info.plist file must contain a higher version than that of the previously approved version [1.46].”</li>
</ul>

<p><strong>原因</strong>：其实写的很清楚了，最新的线上版本号 1.46，所以再次提交，版本号要比 1.46 高。1.5 版本号是低于 1.46 版本号的。<br />
<strong>解决</strong>：方法比较简单，把 TAGETS &gt; General &gt; Idntity 中 Version : 1.5 修改成 1.50 可以正常上传。<br />
<strong>是不是很疑惑</strong>：1.5 不等于 1.50 吗，1.5 不大于 1.46 吗。请往下看。</p>

<h3 id="原因">原因</h3>

<p><strong>ERROR ITMS-90062</strong>提示说 Info.plist 中 CFBundleShortVersionString 的值 1.5 版本不正确，请先看下苹果关于<strong><a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-111349" title="CFBundleShortVersionString">CFBundleShortVersionString</a></strong>的解释。</p>

<p>CFBundleShortVersionString  由三个分开的整数来代表版本号。如，1.3.2，每个整数都有不同的含义：</p>
<ul>
  <li><code class="highlighter-rouge">1</code> Major Revision</li>
  <li><code class="highlighter-rouge">3</code> New Feature or Major Changes Revision</li>
  <li><code class="highlighter-rouge">2</code> Maintenance Release Revision</li>
</ul>

<p>版本号 1.5 与 1.46 高低，首先 Major Revision 对比都是1；再者 New Feature or Major Changes Revision，对比 5 &lt; 46，确定 1.5 版本低于 1.46 版本。修改方法自然也比较简单。</p>

<h3 id="延伸">延伸</h3>
<ol>
  <li>软件使用版本号主要是用来<strong>追踪 BUG</strong>、<strong>标识产品</strong>以及<strong>方便沟通</strong>。</li>
  <li>Xcode 中 TAGETS &gt; General &gt; Idntity 中 Version 对应 Info.plist 中 <strong><a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-111349" title="CFBundleShortVersionString">CFBundleShortVersionString</a></strong> 的值，Build 对应 Info.plist 中 <strong><a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-111349" title="CFBundleVersion">CFBundleVersion</a></strong> 的值。Version 对外，用户可见；Build 对内，用户不可见<br /></li>
  <li>建议 Build 和 Version 都使用三段式版本号，如 1.32.1 等。在开发新版本时 Build 可以使用一些后缀d（develop）、a（alpha）、b（beta）、fc（final candidate）等，关于 Build 和 Version,三段式版本号可以可看下苹果 <strong><a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-111349" title="CFBundleVersion">CFBundleVersion</a></strong> 和 <strong><a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-111349" title="CFBundleShortVersionString">CFBundleShortVersionString</a></strong> 文档。</li>
  <li>自动设置版本号
    <ul>
      <li><strong><a href="https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/agvtool.1.html" title="agvtool(8) Mac OS X Developer Tools Manual Page">agvtool</a></strong>，苹果提供的自动设置 Build 和 Version 工具，<strong><a href="https://developer.apple.com/library/content/qa/qa1827/_index.html" title="Technical Q&amp;A QA1827: Automating Version and Build Numbers Using agvtool">使用方法</a></strong>。</li>
      <li>还可以将脚本添加到 Build Phase 中实现自动设置 Build 和 Version（TAGETS &gt; Build Phase &gt; 左上角 <code class="highlighter-rouge">+</code> 图标 &gt; New Run Script Phase），<strong><a href="http://www.jianshu.com/p/5c98023ac440" title="设置Xcode下Version Build版本号自增长脚本">使用方法</a></strong>。</li>
    </ul>
  </li>
</ol>

<p>ps: 公司 APP 是自己在开发维护。如果 Build 时间为 2017.02.02 18:00，为了方便 CFBundleVersion 一般写成：201702021800。</p>

<h3 id="参考">参考</h3>

<ul>
  <li><a href="https://segmentfault.com/a/1190000002423661" title="浅谈 iOS 版本号">浅谈 iOS 版本号</a></li>
  <li><a href="http://www.jianshu.com/p/5c98023ac440" title="设置Xcode下Version Build版本号自增长脚本">设置Xcode下Version Build版本号自增长脚本</a></li>
  <li><a href="http://stackoverflow.com/questions/19726988/what-values-should-i-use-for-cfbundleversion-and-cfbundleshortversionstring" title="What values should I use for CFBundleVersion and CFBundleShortVersionString?">What values should I use for CFBundleVersion and CFBundleShortVersionString?</a></li>
  <li><a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-111349" title="CFBundleShortVersionString">CFBundleShortVersionString</a></li>
  <li><a href="https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-111349" title="CFBundleVersion">CFBundleVersion</a></li>
  <li><a href="https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man1/agvtool.1.html" title="agvtool(8) Mac OS X Developer Tools Manual Page">agvtool(8) Mac OS X Developer Tools Manual Page</a></li>
  <li><a href="https://developer.apple.com/library/content/qa/qa1827/_index.html" title="Technical Q&amp;A QA1827: Automating Version and Build Numbers Using agvtool">Technical Q&amp;A QA1827: Automating Version and Build Numbers Using agvtool</a></li>
</ul>

<!-- URLs -->


  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="/images/user/avatar.jpg" alt="asvircc">
  <div class="col-box-title name">asvircc</div>
  <p></p>
  <p class="contact">
    
    
    <a href="https://github.com/asvircc" target="_blank">
    <i class="icon-github-alt"></i>
    </a>
    
    
    <a href="mailto:asvircc@asvir.cc">
    <i class="icon-envelope-alt"></i>
    </a>
    
    <a href="/feed.xml" target="_blank">
    <i class="icon-rss"></i>  
    </a>
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">最新文章</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/archivers/week-2017-21th-week">2017年第21周</a></li>
    
      <li><a class="post-link" href="/archivers/week-2017-20th-week">2017年第20周</a></li>
    
      <li><a class="post-link" href="/archivers/song-daft-punk-beyond">Beyond</a></li>
    
      <li><a class="post-link" href="/archivers/upload-ipa-error-itms-90478-itms-90062">ERROR ITMS-90478, ERROR ITMS-90062</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">目录</div>
</div>
        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2017 asvircc theme by <a href="https://github.com/laobubu/"  target="_blank">laobubu</a>
</div>
</footer>

<script src="/js/easybook.js"></script>

  </body>

</html>
